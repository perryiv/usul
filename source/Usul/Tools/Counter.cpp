
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2019, Perry L Miller IV
//  All rights reserved.
//  MIT License: https://opensource.org/licenses/mit-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//  Integer counter.
//
///////////////////////////////////////////////////////////////////////////////

#include "Usul/Tools/Counter.h"

#include <atomic>


namespace Usul {
namespace Tools {


///////////////////////////////////////////////////////////////////////////////
//
//  Get the next 64-bit unsigned integer.
//
///////////////////////////////////////////////////////////////////////////////

Counter::Type Counter::getNext()
{
  // This is thread-safe construction as of C++11.
  static std::atomic < Counter::Type > _count ( 0 );

  // Return the next integer, the first being one.
  return ++_count;
}


} // namespace Tools
} // namespace Usul
