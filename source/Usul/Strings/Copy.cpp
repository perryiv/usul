
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2020, Perry L Miller IV
//  All rights reserved.
//  MIT License: https://opensource.org/licenses/mit-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//  Functions for copying raw strings.
//
///////////////////////////////////////////////////////////////////////////////

#include "Usul/Strings/Copy.h"

#include <cstring>


namespace Usul {
namespace Strings {


///////////////////////////////////////////////////////////////////////////////
//
//  Return a copy of the string.
//
///////////////////////////////////////////////////////////////////////////////

char *Copy::copy ( const char *s )
{
  if ( nullptr == s )
  {
    return nullptr;
  }

  #ifdef _WIN32

  const size_t length = ::strlen ( s );
  char *answer = new char [ length + 1 ];
  ::memcpy ( answer, s, length );
  s[length] = '\0';

  #else

  return ::strdup ( s );

  #endif
}


} // namespace Strings
} // namespace Usul
